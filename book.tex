\documentclass[book, b5paper, fittopage]{ncc}
\FromMargins[hf]{20mm}{20mm}{15mm}{15mm}

\usepackage[headings]{ncchdr}
\usepackage{graphicx}
\usepackage{charter}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}

\usepackage[unicode=true]{hyperref}
\PassOptionsToPackage{hyphens}{url} % url is loaded by hyperref
\urlstyle{same}  % don't use monospace font for urls

\usepackage{parskip}
\setlength{\emergencystretch}{3em}  % prevent overfull lines

% set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

% change verbatim and texttt style
\usepackage{fancyvrb,newverbs,xcolor}
\usepackage{letltxmacro}

\definecolor{cverbbg}{gray}{0.96}

\LetLtxMacro{\oldverbatim}{\verbatim}
\renewenvironment{verbatim}
 {\SaveVerbatim{cverb}}
 {\endSaveVerbatim
  % \center
  \flushleft\fboxrule=0pt
  \fboxsep=1em
  \colorbox{cverbbg}{\footnotesize\BUseVerbatim{cverb}}%
  \endflushleft
}

\LetLtxMacro{\oldtexttt}{\texttt}
\renewcommand{\texttt}[1]{\colorbox{cverbbg}{\oldtexttt{#1}}}



% ---------------------- start of content ----------------------------

\title{
  The 1090MHz Riddle \\
  \medskip
  \large An open-access book about decoding Mode-S and ADS-B data
}
\date{}
\author{Junzi Sun}

\begin{document}
% \maketitle

\input{misc/cover}

\pagestyle{headings}
\input{misc/preface}

\tableofcontents


\input{adsb.tex}

\input{adsb/introduction.tex}
\input{adsb/identification.tex}
\input{adsb/compact-position-report.tex}
\input{adsb/airborne-position.tex}
\input{adsb/airborne-velocity.tex}

\input{adsb/advance.tex}
\input{adsb/version.tex}
\input{adsb/operation-status.tex}
\input{adsb/uncertainty.tex}

\input{ehs.tex}
\input{ehs/introduction.tex}
\input{ehs/bds20-identification.tex}
\input{ehs/bds40-intention.tex}
\input{ehs/bds50-track-n-turn.tex}
\input{ehs/bds60-airspeed.tex}

\input{misc/about.tex}

\end{document}
